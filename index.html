<!DOCTYPE html>
<html lang="et">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Kuluplanner</title>
  <link rel="stylesheet" href="styles.css">
  <script type="module" src="app.js" defer></script>
</head>
<body>
  <a class="skip-link" href="#sisu">Jätka sisuni</a>
  <header class="app-header" data-sticky>
    <div class="wrap">
      <div class="brand">
        <h1 class="app-title">Kuluplanner</h1>
        <nav aria-label="Leivapuru">
          <ol class="breadcrumbs">
            <li><a href="#">Kodu</a></li>
            <li aria-current="page">Kulud</li>
          </ol>
        </nav>
      </div>
      <div class="month-picker" data-container>
        <button type="button" class="btn icon" data-month="prev" aria-label="Eelmine kuu">&#8592;</button>
        <div class="month-display" role="group" aria-live="polite" aria-atomic="true">
          <span class="month-display__label" id="current-month">Märts 2024</span>
        </div>
        <button type="button" class="btn icon" data-month="next" aria-label="Järgmine kuu">&#8594;</button>
        <button type="button" class="btn" id="open-add-expense">+ Lisa kulu</button>
        <details class="overflow-menu">
          <summary class="btn ghost icon" aria-label="Lisavalikud">☰</summary>
          <div class="overflow-menu__content">
            <nav aria-label="Lisavalikud">
              <ol class="breadcrumbs">
                <li><a href="#">Kodu</a></li>
                <li aria-current="page">Kulud</li>
              </ol>
            </nav>
            <a href="#add-expense-dialog" class="btn primary" data-overflow-add>+ Lisa kulu</a>
          </div>
        </details>
      </div>
    </div>
  </header>
  <main id="sisu" class="layout">
    <section class="summary" aria-labelledby="summary-title">
      <div class="section-heading">
        <h2 id="summary-title">Kokkuvõte</h2>
        <p class="section-sub">Ülevaade selle kuu võtmemõõdikutest.</p>
      </div>
      <div class="summary-grid" data-container>
        <article class="summary-card" data-amount="1840.34">
          <header>
            <p class="summary-label">Kättesaadav</p>
          </header>
          <div class="summary-body">
            <div class="summary-value" data-summary-value>€ 1 840,34</div>
            <p class="summary-meta">Pärast kohustuslikke arveid.</p>
          </div>
        </article>
        <article class="summary-card" data-amount="3250.00">
          <header>
            <p class="summary-label">Sissetulek</p>
          </header>
          <div class="summary-body">
            <div class="summary-value" data-summary-value>€ 3 250,00</div>
            <p class="summary-meta">Brutotulu sellel kuul.</p>
          </div>
        </article>
        <article class="summary-card" data-amount="2410.16">
          <header>
            <p class="summary-label">Fikseeritud kulud</p>
          </header>
          <div class="summary-body">
            <div class="summary-value" data-summary-value>€ 2 410,16</div>
            <p class="summary-meta">Üür, teenused ja liising.</p>
          </div>
        </article>
        <article class="summary-card" data-amount="640.50">
          <header>
            <p class="summary-label">Säästud</p>
          </header>
          <div class="summary-body">
            <div class="summary-value" data-summary-value>€ 640,50</div>
            <p class="summary-meta">Kogu kuu jooksul kõrvale pandud.</p>
          </div>
        </article>
      </div>
    </section>

    <section class="categories" aria-labelledby="categories-title">
      <div class="section-heading">
        <h2 id="categories-title">Kategooriad</h2>
        <p class="section-sub">Jälgi suurimaid kuluridu.</p>
      </div>
      <ul class="category-list" data-container>
        <li class="category-item" data-progress="72">
          <div class="category-head">
            <span class="category-name">Toit</span>
            <span class="category-amount" data-progress-value data-amount="312.4">€ 312,40</span>
          </div>
          <div class="category-bar" role="progressbar" aria-valuenow="72" aria-valuemin="0" aria-valuemax="100">
            <span class="category-bar__fill" style="width:72%"></span>
          </div>
          <p class="category-meta">Eelarvest kasutatud 72%.</p>
        </li>
        <li class="category-item" data-progress="54">
          <div class="category-head">
            <span class="category-name">Transport</span>
            <span class="category-amount" data-progress-value data-amount="128">€ 128,00</span>
          </div>
          <div class="category-bar" role="progressbar" aria-valuenow="54" aria-valuemin="0" aria-valuemax="100">
            <span class="category-bar__fill" style="width:54%"></span>
          </div>
          <p class="category-meta">Eelarvest kasutatud 54%.</p>
        </li>
        <li class="category-item" data-progress="38">
          <div class="category-head">
            <span class="category-name">Meelelahutus</span>
            <span class="category-amount" data-progress-value data-amount="89.9">€ 89,90</span>
          </div>
          <div class="category-bar" role="progressbar" aria-valuenow="38" aria-valuemin="0" aria-valuemax="100">
            <span class="category-bar__fill" style="width:38%"></span>
          </div>
          <p class="category-meta">Eelarvest kasutatud 38%.</p>
        </li>
        <li class="category-item" data-progress="20">
          <div class="category-head">
            <span class="category-name">Muu</span>
            <span class="category-amount" data-progress-value data-amount="45.3">€ 45,30</span>
          </div>
          <div class="category-bar" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">
            <span class="category-bar__fill" style="width:20%"></span>
          </div>
          <p class="category-meta">Eelarvest kasutatud 20%.</p>
        </li>
      </ul>
    </section>

    <section class="transactions" aria-labelledby="transactions-title">
      <div class="section-heading">
        <div>
          <h2 id="transactions-title">Tehingud</h2>
          <p class="section-sub">Värskeimad kirjed. Puuduta rea avamiseks.</p>
        </div>
        <form class="transaction-filter" role="search" aria-label="Otsi tehinguid">
          <label for="transaction-filter">Otsi</label>
          <input id="transaction-filter" name="q" type="search" placeholder="Otsi kategooria või märkuse järgi">
        </form>
      </div>
      <div class="table-shell" data-container>
        <div class="table-scroll" tabindex="0">
          <table class="transactions-table" aria-describedby="transactions-title">
            <caption>Igakuine tehingute nimekiri</caption>
            <thead>
              <tr>
                <th scope="col">Kuupäev</th>
                <th scope="col">Kategooria</th>
                <th scope="col" class="col-notes">Märkus</th>
                <th scope="col" class="numeric">Summa (€)</th>
              </tr>
            </thead>
            <tbody id="transaction-rows">
              <tr data-id="1">
                <td data-label="Kuupäev">04.03.2024</td>
                <td data-label="Kategooria">Toit</td>
                <td data-label="Märkus" class="col-notes">Turukülastus</td>
                <td data-label="Summa" class="numeric" data-amount="-28.6">-28,60</td>
              </tr>
              <tr data-id="2">
                <td data-label="Kuupäev">05.03.2024</td>
                <td data-label="Kategooria">Transport</td>
                <td data-label="Märkus" class="col-notes">Ühiskaart</td>
                <td data-label="Summa" class="numeric" data-amount="-12">-12,00</td>
              </tr>
              <tr data-id="3">
                <td data-label="Kuupäev">06.03.2024</td>
                <td data-label="Kategooria">Sissetulek</td>
                <td data-label="Märkus" class="col-notes">Põhipalk</td>
                <td data-label="Summa" class="numeric" data-amount="2450">2 450,00</td>
              </tr>
              <tr data-id="4">
                <td data-label="Kuupäev">08.03.2024</td>
                <td data-label="Kategooria">Meelelahutus</td>
                <td data-label="Märkus" class="col-notes">Kino</td>
                <td data-label="Summa" class="numeric" data-amount="-18.5">-18,50</td>
              </tr>
              <tr data-id="5">
                <td data-label="Kuupäev">09.03.2024</td>
                <td data-label="Kategooria">Muu</td>
                <td data-label="Märkus" class="col-notes">Kingitus</td>
                <td data-label="Summa" class="numeric" data-amount="-35">-35,00</td>
              </tr>
            </tbody>
          </table>
          <div class="scroll-shadow scroll-shadow--left" aria-hidden="true"></div>
          <div class="scroll-shadow scroll-shadow--right" aria-hidden="true"></div>
        </div>
      </div>
      <div class="transactions-footer">
        <output id="transaction-total" aria-live="polite">Saldo: € 2 355,90</output>
      </div>
    </section>
  </main>

  <footer class="app-footer">
    <small>&copy; 2024 Kuluplanner</small>
  </footer>

  <dialog id="add-expense-dialog" open aria-labelledby="add-expense-title">
    <form method="dialog" class="dialog" aria-describedby="add-expense-help">
      <header class="dialog__head">
        <h2 id="add-expense-title">Lisa kulu</h2>
        <button type="button" class="btn ghost icon" data-dialog-close aria-label="Sulge">✕</button>
      </header>
      <div class="dialog__body">
        <p id="add-expense-help">Täida väljad ja salvesta uus tehing.</p>
        <label for="expense-category">Kategooria</label>
        <select id="expense-category" name="category" autocomplete="on">
          <option value="Toit">Toit</option>
          <option value="Transport">Transport</option>
          <option value="Meelelahutus">Meelelahutus</option>
          <option value="Muu">Muu</option>
        </select>
        <label for="expense-amount">Summa (€)</label>
        <input id="expense-amount" name="amount" inputmode="decimal" autocomplete="off" aria-errormessage="expense-amount-error">
        <p class="field-error" id="expense-amount-error" role="alert" hidden></p>
        <label for="expense-date">Kuupäev</label>
        <input id="expense-date" name="date" type="date">
        <label for="expense-note">Märkus</label>
        <input id="expense-note" name="note" autocomplete="on" maxlength="80">
      </div>
      <div class="dialog__actions">
        <button type="submit" class="btn" value="cancel" data-dialog-close>Loobu</button>
        <button type="submit" class="btn primary" value="confirm" id="submit-expense">Lisa kirje</button>
      </div>
    </form>
  </dialog>

  <dialog id="transaction-dialog" aria-labelledby="transaction-dialog-title">
    <article class="dialog" role="document">
      <header class="dialog__head">
        <h2 id="transaction-dialog-title">Tehingu detail</h2>
        <button type="button" class="btn ghost icon" data-dialog-close aria-label="Sulge">✕</button>
      </header>
      <div class="dialog__body" id="transaction-dialog-body"></div>
      <div class="dialog__actions">
        <button type="button" class="btn" data-dialog-close>Valmis</button>
      </div>
    </article>
  </dialog>

  <div role="status" aria-live="polite" class="sr-only" id="live-region"></div>
</body>
</html>
